CREATE TABLE DEPARTMENT( 
DEPTNO VARCHAR2(10) NOT NULL PRIMARY KEY, 
DEPTNAME VARCHAR2(20));

CREATE TABLE EMPLOYEE(
SSN VARCHAR2(10) NOT NULL PRIMARY KEY,
NAME CHAR(10),
DEPT_NO VARCHAR2(10) REFRENCES DEPARTMENT(DEPTNO));

CREATE TABLE PROJECT(
PROJ_NO VARCHAR2(10) NOT NULL PRIMARY KEY,
PROJ_AREA VARCHAR2(10));

CREATE TABLE ASSIGN(
SSN VARCHAR2(10) REFERENCES EMPLOYEE(SSN),
PROJ_NO VARCHAR2(10) REFERENCES PROJECT(PROJ_NO));

INSERT INTO DEPARTMENT
VALUES('&DEPTNO','&DEPTNAME');

INSERT INTO EMPLOYEE
VALUES('&SSN','&NAME','&DEPT_NO');

INSERT INTO PROJECT
VALUES('&PROJ_NO','&PROJ_AREA');

INSERT INTO ASSIGN
VALUES('&SSN','&PROJ_AREA');

SELECT * 
FROM EMPLOYEE
WHERE SSN IN (SELECT SSN
              FROM ASSIGN
              WHERE PROJ_NO IN(SELECT PROJ_NO
                               FROM PROJECT
                               WHERE PROJ_AREA='DATABASE'));

SELECT DEPT_NO,DEPTNAME,COUNT(SSN)
FROM EMPLOYEE E,DEPARTMENT D
WHERE E.DEPT_NO=D.DEPTNO
GROUP BY E.DEPT_NO,D.DEPTNAME;

UPDATE ASSIGN
SET PROJ_NO='P5'
WHERE SSN = 'S001';

SELECT A.SSN,NAME,COUNT(PROJ_NO)
FROM ASSIGN A,EMPLOYEE E
WHERE A.SSN=E.SSN
GROUP BY A.SSN,NAME
HAVING COUNT(PROJ_NO)<=1;

db.createCollection("Employee")
db.Employee.insertOne({"SSN":1234,"Name":"Sita","Dept_no":2,"DeptName":'ISE',"Proj_no":"1"})
db.Employee.insertOne({"SSN":1235,"Name":"John","Dept_no":1,"DeptName":'MECH',"Proj_no": 2})
db.Employee.find().pretty()
db.Employee.find({"DeptName":"MECH"}).pretty()
db.Employee.find({"Proj_no":2 }).pretty()

BEGIN
    UPDATE EMPLOYEE
    SET SALARY=(1.15*SALARY)    
    WHERE DEPT_NO=3;
    DBMS_OUTPUT.PUT_LINE(SQL%ROWCOUNT||'ROWS UPDATED');
END;
/